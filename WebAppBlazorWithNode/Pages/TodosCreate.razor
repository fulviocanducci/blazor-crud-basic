@page "/todo/create"
@inject HttpClient Client
@using System.Text.Json
@using System.Text
@inject IUriHelper urihelper

<input type="text" name="description" @bind="@Todo.Description" />
<input type="text" name="done" @bind="@Todo.Done" /> @Todo.Done
<button @onclick="Save">Criar</button>

@code {
    public Todo Todo { get; set; } = new Todo();

    public async Task Save()
    {
        StringContent stringContent =
                new StringContent(
                    JsonSerializer.Serialize(Todo),
                    Encoding.UTF8,
                    "application/json");
        await Client.PostAsync($"http://localhost:3000/todo", stringContent);
        urihelper.NavigateTo("/todos");
    }
}